# ğŸ›¡ï¸ ç½‘ç»œè®¸å¯è¯éªŒè¯ç³»ç»Ÿ v2.0

> ç°ä»£åŒ–çš„ä¼ä¸šçº§è®¸å¯è¯éªŒè¯è§£å†³æ–¹æ¡ˆï¼Œä¸ºæ‚¨çš„è½¯ä»¶äº§å“æä¾›å¯é çš„æˆæƒç®¡ç†

[![PHP Version](https://img.shields.io/badge/PHP-8.1%2B-blue.svg)](https://php.net)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![Build Status](https://img.shields.io/badge/Build-Passing-brightgreen.svg)](.)
[![Version](https://img.shields.io/badge/Version-2.0.0-orange.svg)](.)

## ğŸ“‹ ç›®å½•

- [âœ¨ åŠŸèƒ½ç‰¹ç‚¹](#-åŠŸèƒ½ç‰¹ç‚¹)
- [ğŸ—ï¸ ç³»ç»Ÿæ¶æ„](#ï¸-ç³»ç»Ÿæ¶æ„)
- [ğŸš€ å¿«é€Ÿéƒ¨ç½²](#-å¿«é€Ÿéƒ¨ç½²)
- [ğŸ“¦ ç³»ç»Ÿè¦æ±‚](#-ç³»ç»Ÿè¦æ±‚)
- [ğŸ”§ è¯¦ç»†å®‰è£…](#-è¯¦ç»†å®‰è£…)
- [âš™ï¸ æœåŠ¡å™¨é…ç½®](#ï¸-æœåŠ¡å™¨é…ç½®)
- [ğŸ¯ ä½¿ç”¨è¯´æ˜](#-ä½¿ç”¨è¯´æ˜)
- [ğŸ”Œ å®¢æˆ·ç«¯é›†æˆ](#-å®¢æˆ·ç«¯é›†æˆ)
- [ğŸ›¡ï¸ å®‰å…¨é…ç½®](#ï¸-å®‰å…¨é…ç½®)
- [ğŸ“Š APIæ–‡æ¡£](#-apiæ–‡æ¡£)
- [ğŸ› æ•…éšœæ’é™¤](#-æ•…éšœæ’é™¤)
- [ğŸ“„ è®¸å¯è¯](#-è®¸å¯è¯)

## âœ¨ åŠŸèƒ½ç‰¹ç‚¹

### ğŸ¨ ç°ä»£åŒ–ç®¡ç†ç•Œé¢
- **å“åº”å¼è®¾è®¡** - å®Œç¾é€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯è®¾å¤‡
- **Bootstrap 5.3** - ç°ä»£åŒ–çš„UIç»„ä»¶å’Œè®¾è®¡è¯­è¨€
- **ä¼˜é›…åŠ¨ç”»** - æµç•…çš„ç”¨æˆ·äº¤äº’ä½“éªŒå’Œè§†è§‰åé¦ˆ
- **å®æ—¶é€šçŸ¥** - è‡ªåŠ¨æ¶ˆå¤±çš„æ“ä½œåé¦ˆå’ŒçŠ¶æ€æç¤º
- **æš—é»‘æ¨¡å¼** - æ”¯æŒæµ…è‰²/æ·±è‰²ä¸»é¢˜åˆ‡æ¢

### ğŸ” ä¼ä¸šçº§å®‰å…¨
- **JWTè®¤è¯** - åŸºäºJSON Web Tokençš„å®‰å…¨è®¤è¯æœºåˆ¶
- **è®¾å¤‡ç»‘å®š** - é˜²æ­¢è®¸å¯è¯è¢«éæ³•å¤åˆ¶å’Œæ»¥ç”¨
- **IPé™åˆ¶** - å¯é€‰çš„IPåœ°å€ç»‘å®šéªŒè¯åŠŸèƒ½
- **è¯·æ±‚é™æµ** - é˜²æ­¢æš´åŠ›ç ´è§£å’ŒDDoSæ”»å‡»
- **æ•°æ®åŠ å¯†** - æ•æ„Ÿæ•°æ®åŠ å¯†å­˜å‚¨å’Œä¼ è¾“
- **å®¡è®¡æ—¥å¿—** - å®Œæ•´çš„æ“ä½œè®°å½•å’Œå®‰å…¨è¿½è¸ª

### âš¡ é«˜æ€§èƒ½æ¶æ„
- **æ¯«ç§’çº§å“åº”** - ä¼˜åŒ–çš„æ•°æ®åº“æŸ¥è¯¢å’Œç´¢å¼•è®¾è®¡
- **PSR-4è§„èŒƒ** - ç°ä»£åŒ–çš„PHPè‡ªåŠ¨åŠ è½½æœºåˆ¶
- **ä¾èµ–æ³¨å…¥** - çµæ´»çš„æœåŠ¡å®¹å™¨å’Œä¾èµ–ç®¡ç†
- **ä¸­é—´ä»¶ç³»ç»Ÿ** - å¯æ‰©å±•çš„è¯·æ±‚å¤„ç†ç®¡é“
- **ç¼“å­˜æœºåˆ¶** - å¤šå±‚ç¼“å­˜å‡å°‘æ•°æ®åº“è´Ÿè½½
- **å¼‚æ­¥å¤„ç†** - éé˜»å¡çš„æ“ä½œæµç¨‹

### ğŸ“Š æ™ºèƒ½æ•°æ®åˆ†æ
- **å®æ—¶ç›‘æ§** - è®¸å¯è¯ä½¿ç”¨æƒ…å†µå®æ—¶å±•ç¤º
- **è¯¦ç»†ç»Ÿè®¡** - ä¸°å¯Œçš„æ•°æ®åˆ†æå’Œå›¾è¡¨å±•ç¤º
- **ä½¿ç”¨æ—¥å¿—** - å®Œæ•´çš„éªŒè¯è®°å½•å’Œæ“ä½œå®¡è®¡
- **å¯¼å‡ºåŠŸèƒ½** - æ”¯æŒExcelã€CSVç­‰å¤šç§æ ¼å¼
- **è‡ªåŠ¨æŠ¥è¡¨** - å®šæœŸç”Ÿæˆä½¿ç”¨æƒ…å†µæŠ¥å‘Š

### ğŸ”Œ å¤šè¯­è¨€å®¢æˆ·ç«¯
- **PHPå®¢æˆ·ç«¯** - å®Œæ•´çš„PHP SDKå’Œç¤ºä¾‹ä»£ç 
- **Pythonå®¢æˆ·ç«¯** - åŠŸèƒ½ä¸°å¯Œçš„PythonéªŒè¯åº“
- **RESTful API** - æ ‡å‡†çš„RESTæ¥å£ï¼Œæ”¯æŒä»»ä½•è¯­è¨€
- **ç¤ºä¾‹ä»£ç ** - è¯¦ç»†çš„é›†æˆç¤ºä¾‹å’Œæœ€ä½³å®è·µ

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æ ¸å¿ƒç»„ä»¶
```
ç½‘ç»œéªŒè¯ç³»ç»Ÿ v2.0
â”œâ”€â”€ æ ¸å¿ƒæ¡†æ¶ (Core)
â”‚   â”œâ”€â”€ åº”ç”¨ç¨‹åº (Application)
â”‚   â”œâ”€â”€ è·¯ç”±ç³»ç»Ÿ (Router)
â”‚   â”œâ”€â”€ ä¸­é—´ä»¶ (Middleware)
â”‚   â”œâ”€â”€ ä¾èµ–æ³¨å…¥ (Container)
â”‚   â”œâ”€â”€ é…ç½®ç®¡ç† (Config)
â”‚   â””â”€â”€ æ—¥å¿—ç³»ç»Ÿ (Logger)
â”œâ”€â”€ APIæ§åˆ¶å™¨ (Api/Controller)
â”‚   â”œâ”€â”€ éªŒè¯æ§åˆ¶å™¨ (VerificationController)
â”‚   â”œâ”€â”€ è®¸å¯è¯æ§åˆ¶å™¨ (LicenseController)
â”‚   â”œâ”€â”€ è®¤è¯æ§åˆ¶å™¨ (AuthController)
â”‚   â””â”€â”€ æ—¥å¿—æ§åˆ¶å™¨ (LogController)
â”œâ”€â”€ Webæ§åˆ¶å™¨ (Web/Controller)
â”‚   â”œâ”€â”€ ä»ªè¡¨æ¿ (DashboardController)
â”‚   â”œâ”€â”€ è®¸å¯è¯ç®¡ç† (LicenseController)
â”‚   â”œâ”€â”€ ç³»ç»Ÿè®¾ç½® (SettingsController)
â”‚   â””â”€â”€ ç”¨æˆ·è®¤è¯ (AuthController)
â”œâ”€â”€ æ•°æ®æ¨¡å‹ (Models)
â”‚   â”œâ”€â”€ è®¸å¯è¯æ¨¡å‹ (License)
â”‚   â”œâ”€â”€ ä½¿ç”¨æ—¥å¿— (UsageLog)
â”‚   â”œâ”€â”€ ç®¡ç†å‘˜æ¨¡å‹ (Admin)
â”‚   â””â”€â”€ ç®¡ç†æ—¥å¿— (AdminLog)
â””â”€â”€ å®¢æˆ·ç«¯SDK (Client)
    â”œâ”€â”€ PHPå®¢æˆ·ç«¯
    â””â”€â”€ Pythonå®¢æˆ·ç«¯
```

### æŠ€æœ¯æ ˆ
- **åç«¯æ¡†æ¶**: è‡ªç ”è½»é‡çº§PHPæ¡†æ¶
- **æ•°æ®åº“**: MySQL 5.7+ / MariaDB 10.3+
- **å‰ç«¯æŠ€æœ¯**: Bootstrap 5.3 + jQuery + Chart.js
- **è®¤è¯æœºåˆ¶**: JWT (JSON Web Token)
- **APIæ ‡å‡†**: RESTful API
- **ä»£ç è§„èŒƒ**: PSR-4, PSR-12

## ğŸš€ å¿«é€Ÿéƒ¨ç½²

### ä¸€é”®éƒ¨ç½²ï¼ˆå ¡å¡”é¢æ¿æ¨èï¼‰

1. **åˆ›å»ºç«™ç‚¹**
   ```bash
   # åœ¨å ¡å¡”é¢æ¿ä¸­åˆ›å»ºæ–°ç«™ç‚¹
   # åŸŸåï¼šyour-domain.com
   # æ ¹ç›®å½•ï¼š/www/wwwroot/your-site
   # PHPç‰ˆæœ¬ï¼š8.1+
   ```

2. **ä¸Šä¼ ä»£ç **
   ```bash
   # å°†é¡¹ç›®æ–‡ä»¶ä¸Šä¼ åˆ°ç«™ç‚¹æ ¹ç›®å½•
   cd /www/wwwroot/your-site
   # ä¸Šä¼ æˆ–å…‹éš†é¡¹ç›®ä»£ç 
   ```

3. **è®¾ç½®è¿è¡Œç›®å½•**
   ```bash
   # å®‰è£…é˜¶æ®µï¼šè¿è¡Œç›®å½•è®¾ä¸ºæ ¹ç›®å½• /
   # å®‰è£…å®Œæˆåï¼šè¿è¡Œç›®å½•æ”¹ä¸º /public
   ```

4. **æ‰§è¡Œå®‰è£…**
   ```bash
   # è®¿é—®ï¼šhttp://your-domain.com/install.php
   # æŒ‰ç…§å‘å¯¼å®Œæˆå®‰è£…é…ç½®
   ```

5. **ç”Ÿäº§é…ç½®**
   ```bash
   # å®‰è£…å®ŒæˆååŠ¡å¿…ä¿®æ”¹è¿è¡Œç›®å½•ä¸º /public
   # åˆ é™¤å®‰è£…æ–‡ä»¶ä»¥æé«˜å®‰å…¨æ€§
   ```

## ğŸ“¦ ç³»ç»Ÿè¦æ±‚

### æœåŠ¡å™¨ç¯å¢ƒ
- **PHPç‰ˆæœ¬**: >= 8.1 (æ¨è 8.2+)
- **WebæœåŠ¡å™¨**: Nginx (æ¨è) æˆ– Apache 2.4+
- **æ•°æ®åº“**: MySQL 5.7+ æˆ– MariaDB 10.3+
- **å†…å­˜**: æœ€ä½ 512MBï¼Œæ¨è 1GB+
- **ç£ç›˜ç©ºé—´**: æœ€ä½ 200MBï¼Œæ¨è 1GB+

### PHPæ‰©å±•è¦æ±‚
```bash
# å¿…éœ€æ‰©å±•
php-pdo          # æ•°æ®åº“è¿æ¥
php-json         # JSONå¤„ç†
php-session      # ä¼šè¯ç®¡ç†
php-mbstring     # å¤šå­—èŠ‚å­—ç¬¦ä¸²
php-curl         # HTTPè¯·æ±‚
php-openssl      # åŠ å¯†åŠŸèƒ½
php-zip          # å‹ç¼©æ–‡ä»¶å¤„ç†

# æ¨èæ‰©å±•
php-redis        # Redisç¼“å­˜
php-opcache      # ä»£ç ç¼“å­˜
php-gd           # å›¾åƒå¤„ç†
```

### ç¯å¢ƒæ£€æŸ¥
```bash
# æ£€æŸ¥PHPç‰ˆæœ¬
php -v

# æ£€æŸ¥å¿…éœ€æ‰©å±•
php -m | grep -E "(pdo|json|session|mbstring|curl|openssl)"

# Webç¯å¢ƒæ£€æŸ¥
curl -I http://your-domain.com/install.php
```

## ğŸ”§ è¯¦ç»†å®‰è£…

### 1. ç¯å¢ƒå‡†å¤‡

#### å ¡å¡”é¢æ¿å®‰è£…
```bash
# CentOS/RHEL/Rocky Linux
wget -O install.sh https://download.bt.cn/install/install_6.0.sh
bash install.sh ed8484bec

# Ubuntu/Debian
wget -O install.sh https://download.bt.cn/install/install-ubuntu_6.0.sh
bash install.sh ed8484bec
```

#### LNMPç¯å¢ƒå®‰è£…
```bash
# åœ¨å ¡å¡”é¢æ¿è½¯ä»¶å•†åº—å®‰è£…ï¼š
# - Nginx 1.20+
# - PHP 8.1+
# - MySQL 5.7+
# - phpMyAdmin (å¯é€‰)
```

### 2. é¡¹ç›®éƒ¨ç½²

#### ä¸‹è½½é¡¹ç›®
```bash
# æ–¹æ³•1ï¼šç›´æ¥ä¸‹è½½å‹ç¼©åŒ…
cd /www/wwwroot/your-site
wget https://github.com/your-repo/license-system/archive/main.zip
unzip main.zip && mv license-system-main/* . && rm -rf license-system-main main.zip

# æ–¹æ³•2ï¼šGitå…‹éš†ï¼ˆæ¨èï¼‰
git clone https://github.com/your-repo/license-system.git .
```

#### è®¾ç½®æƒé™
```bash
# è®¾ç½®æ‰€æœ‰è€…
chown -R www:www /www/wwwroot/your-site

# è®¾ç½®åŸºç¡€æƒé™
find /www/wwwroot/your-site -type d -exec chmod 755 {} \;
find /www/wwwroot/your-site -type f -exec chmod 644 {} \;

# è®¾ç½®å¯å†™ç›®å½•
chmod -R 777 /www/wwwroot/your-site/storage
chmod -R 777 /www/wwwroot/your-site/config
```

### 3. æ•°æ®åº“é…ç½®

#### åˆ›å»ºæ•°æ®åº“
```sql
-- åœ¨phpMyAdminæˆ–å‘½ä»¤è¡Œä¸­æ‰§è¡Œ
CREATE DATABASE license_system 
CHARACTER SET utf8mb4 
COLLATE utf8mb4_unicode_ci;

-- åˆ›å»ºä¸“ç”¨ç”¨æˆ·ï¼ˆæ¨èï¼‰
CREATE USER 'license_user'@'localhost' 
IDENTIFIED BY 'your_strong_password';

GRANT ALL PRIVILEGES ON license_system.* 
TO 'license_user'@'localhost';

FLUSH PRIVILEGES;
```

### 4. å®‰è£…å‘å¯¼

#### è®¿é—®å®‰è£…é¡µé¢
```bash
# æµè§ˆå™¨è®¿é—®
http://your-domain.com/install.php
```

#### å®‰è£…æ­¥éª¤
1. **ç¯å¢ƒæ£€æµ‹** - è‡ªåŠ¨æ£€æŸ¥æœåŠ¡å™¨ç¯å¢ƒå’ŒPHPæ‰©å±•
2. **æ•°æ®åº“é…ç½®** - é…ç½®æ•°æ®åº“è¿æ¥å‚æ•°
3. **ä¾èµ–å®‰è£…** - è‡ªåŠ¨å®‰è£…Composerä¾èµ–åŒ…
4. **ç®¡ç†å‘˜è®¾ç½®** - åˆ›å»ºç³»ç»Ÿç®¡ç†å‘˜è´¦æˆ·
5. **å®Œæˆå®‰è£…** - ç”Ÿæˆé…ç½®æ–‡ä»¶å’Œæ•°æ®è¡¨

#### å®‰è£…åé…ç½®
```bash
# é‡è¦ï¼šä¿®æ”¹è¿è¡Œç›®å½•
# å ¡å¡”é¢æ¿ â†’ ç½‘ç«™ â†’ è®¾ç½® â†’ è¿è¡Œç›®å½• â†’ æ”¹ä¸º /public

# åˆ é™¤å®‰è£…æ–‡ä»¶ï¼ˆå¯é€‰ï¼Œæ¨èï¼‰
rm -f /www/wwwroot/your-site/install.php
rm -rf /www/wwwroot/your-site/install_steps
```

## âš™ï¸ æœåŠ¡å™¨é…ç½®

### Nginxé…ç½®ï¼ˆæ¨èï¼‰
```nginx
server {
    listen 80;
    listen [::]:80;
    server_name your-domain.com;
    root /www/wwwroot/your-site/public;
    index index.php index.html;

    # å®‰å…¨é…ç½®
    add_header X-Frame-Options "SAMEORIGIN" always;
    add_header X-XSS-Protection "1; mode=block" always;
    add_header X-Content-Type-Options "nosniff" always;
    add_header Referrer-Policy "no-referrer-when-downgrade" always;
    add_header Content-Security-Policy "default-src 'self' http: https: data: blob: 'unsafe-inline'" always;

    # ä¸»è¦è·¯ç”±
    location / {
        try_files $uri $uri/ /index.php$is_args$args;
    }

    # PHPå¤„ç†
    location ~ \.php$ {
        fastcgi_pass unix:/tmp/php-cgi-81.sock;
        fastcgi_index index.php;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        include fastcgi_params;
        
        # å®‰å…¨å‚æ•°
        fastcgi_param PHP_ADMIN_VALUE "open_basedir=$document_root/:/tmp/:/proc/";
        fastcgi_param PHP_VALUE "session.cookie_httponly=1";
        fastcgi_param PHP_VALUE "session.cookie_secure=1";
    }

    # é™æ€èµ„æºç¼“å­˜
    location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }

    # å®‰å…¨é…ç½® - æ‹’ç»è®¿é—®æ•æ„Ÿç›®å½•
    location ~ ^/(config|src|storage|vendor|install_steps)/ {
        deny all;
        return 404;
    }

    # å®‰å…¨é…ç½® - æ‹’ç»è®¿é—®æ•æ„Ÿæ–‡ä»¶
    location ~ \.(env|lock|log|sql|md)$ {
        deny all;
        return 404;
    }

    # æ‹’ç»è®¿é—®éšè—æ–‡ä»¶
    location ~ /\. {
        deny all;
        return 404;
    }
}
```

### SSLé…ç½®ï¼ˆå¼ºçƒˆæ¨èï¼‰
```nginx
server {
    listen 443 ssl http2;
    listen [::]:443 ssl http2;
    server_name your-domain.com;
    
    # SSLè¯ä¹¦é…ç½®
    ssl_certificate /path/to/your/certificate.crt;
    ssl_certificate_key /path/to/your/private.key;
    
    # SSLå®‰å…¨é…ç½®
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384;
    ssl_prefer_server_ciphers off;
    
    # HSTS
    add_header Strict-Transport-Security "max-age=63072000" always;
    
    # ... å…¶ä»–é…ç½®åŒHTTP
}

# HTTPé‡å®šå‘åˆ°HTTPS
server {
    listen 80;
    listen [::]:80;
    server_name your-domain.com;
    return 301 https://$server_name$request_uri;
}
```

### å ¡å¡”é¢æ¿é…ç½®
```bash
# ç½‘ç«™è®¾ç½®
è¿è¡Œç›®å½•: /public
PHPç‰ˆæœ¬: 8.1
ä¼ªé™æ€: Laravelè§„åˆ™

# SSLè®¾ç½®
è¯ä¹¦ç±»å‹: Let's Encrypt (å…è´¹)
å¼ºåˆ¶HTTPS: å¼€å¯
HSTS: å¼€å¯

# é˜²ç«å¢™
ç«¯å£: 80, 443 (å¼€æ”¾)
IPç™½åå•: æ ¹æ®éœ€è¦é…ç½®
```

## ğŸ¯ ä½¿ç”¨è¯´æ˜

### ç®¡ç†å‘˜ç™»å½•
```
URL: https://your-domain.com/
ç”¨æˆ·å: å®‰è£…æ—¶è®¾ç½®çš„ç”¨æˆ·å
å¯†ç : å®‰è£…æ—¶è®¾ç½®çš„å¯†ç 
```

### è®¸å¯è¯ç®¡ç†

#### åˆ›å»ºè®¸å¯è¯
1. è¿›å…¥"è®¸å¯è¯ç®¡ç†"é¡µé¢
2. ç‚¹å‡»"åˆ›å»ºè®¸å¯è¯"æŒ‰é’®
3. è®¾ç½®è®¸å¯è¯å‚æ•°ï¼š
   - æ•°é‡ï¼šè¦åˆ›å»ºçš„è®¸å¯è¯æ•°é‡
   - æœ‰æ•ˆæœŸï¼šè®¸å¯è¯æœ‰æ•ˆå¤©æ•°
   - å¤‡æ³¨ï¼šè®¸å¯è¯ç”¨é€”è¯´æ˜

#### è®¸å¯è¯æ“ä½œ
- **æŸ¥çœ‹è¯¦æƒ…** - æŸ¥çœ‹è®¸å¯è¯ä½¿ç”¨æƒ…å†µ
- **ç¼–è¾‘ä¿¡æ¯** - ä¿®æ”¹å¤‡æ³¨å’Œè®¾ç½®
- **å»¶é•¿æœ‰æ•ˆæœŸ** - å»¶é•¿è®¸å¯è¯ä½¿ç”¨æ—¶é—´
- **ç¦ç”¨/å¯ç”¨** - æ§åˆ¶è®¸å¯è¯çŠ¶æ€
- **è§£ç»‘è®¾å¤‡** - è§£é™¤è®¾å¤‡ç»‘å®š
- **åˆ é™¤è®¸å¯è¯** - æ°¸ä¹…åˆ é™¤è®¸å¯è¯

#### æ‰¹é‡æ“ä½œ
- **æ‰¹é‡åˆ›å»º** - ä¸€æ¬¡åˆ›å»ºå¤šä¸ªè®¸å¯è¯
- **æ‰¹é‡å¯¼å‡º** - å¯¼å‡ºè®¸å¯è¯åˆ—è¡¨
- **æ‰¹é‡å»¶æœŸ** - æ‰¹é‡å»¶é•¿æœ‰æ•ˆæœŸ
- **æ‰¹é‡æ“ä½œ** - æ‰¹é‡å¯ç”¨/ç¦ç”¨

### ç³»ç»Ÿç›‘æ§

#### ä»ªè¡¨æ¿
- **å®æ—¶ç»Ÿè®¡** - è®¸å¯è¯æ€»æ•°ã€æ´»è·ƒæ•°ã€ä»Šæ—¥éªŒè¯æ¬¡æ•°
- **ä½¿ç”¨è¶‹åŠ¿** - éªŒè¯æ¬¡æ•°è¶‹åŠ¿å›¾è¡¨
- **çŠ¶æ€åˆ†å¸ƒ** - è®¸å¯è¯çŠ¶æ€é¥¼å›¾
- **æœ€è¿‘æ´»åŠ¨** - æœ€æ–°çš„éªŒè¯è®°å½•

#### æ—¥å¿—ç®¡ç†
- **ä½¿ç”¨æ—¥å¿—** - æŸ¥çœ‹æ‰€æœ‰éªŒè¯è®°å½•
- **ç®¡ç†æ—¥å¿—** - æŸ¥çœ‹ç®¡ç†å‘˜æ“ä½œè®°å½•
- **é”™è¯¯æ—¥å¿—** - æŸ¥çœ‹ç³»ç»Ÿé”™è¯¯ä¿¡æ¯
- **æ—¥å¿—å¯¼å‡º** - å¯¼å‡ºæ—¥å¿—æ•°æ®
- **æ—¥å¿—æ¸…ç†** - æ¸…ç†è¿‡æœŸæ—¥å¿—

### ç³»ç»Ÿè®¾ç½®

#### åŸºç¡€è®¾ç½®
- **ç«™ç‚¹ä¿¡æ¯** - ç½‘ç«™åç§°ã€æè¿°ã€LOGO
- **é‚®ä»¶é…ç½®** - SMTPé‚®ä»¶å‘é€è®¾ç½®
- **å®‰å…¨è®¾ç½®** - å¯†ç ç­–ç•¥ã€ç™»å½•é™åˆ¶
- **ç¼“å­˜è®¾ç½®** - ç¼“å­˜å¼€å…³å’Œæ¸…ç†

#### é«˜çº§è®¾ç½®
- **APIé…ç½®** - APIå¯†é’¥å’Œè®¿é—®æ§åˆ¶
- **å¤‡ä»½è¿˜åŸ** - æ•°æ®å¤‡ä»½å’Œè¿˜åŸ
- **ç³»ç»Ÿæ›´æ–°** - æ£€æŸ¥å’Œå®‰è£…æ›´æ–°
- **å¼€å‘å·¥å…·** - è°ƒè¯•æ¨¡å¼ã€æ—¥å¿—çº§åˆ«

## ğŸ”Œ å®¢æˆ·ç«¯é›†æˆ

### PHPå®¢æˆ·ç«¯ç¤ºä¾‹
```php
<?php
// å¼•å…¥å®¢æˆ·ç«¯æ–‡ä»¶
require_once 'client/php/AuthClient.php';

// åˆ›å»ºå®¢æˆ·ç«¯å®ä¾‹
$client = new AuthClient('https://your-domain.com');

// ç”Ÿæˆè®¾å¤‡æ ‡è¯†
$deviceId = $client->generateDeviceId();

// éªŒè¯è®¸å¯è¯
$result = $client->verify([
    'license_key' => 'LIC-ABCD1234EFGH5678',
    'machine_code' => $deviceId,
    'app_version' => '1.0.0'
]);

// å¤„ç†éªŒè¯ç»“æœ
if ($result['success']) {
    echo "âœ… éªŒè¯æˆåŠŸï¼\n";
    echo "åˆ°æœŸæ—¶é—´: " . $result['data']['expires_at'] . "\n";
    echo "å‰©ä½™å¤©æ•°: " . $result['data']['remaining_days'] . " å¤©\n";
    
    // æ‚¨çš„è½¯ä»¶é€»è¾‘...
    
} else {
    echo "âŒ éªŒè¯å¤±è´¥: " . $result['message'] . "\n";
    // å¤„ç†éªŒè¯å¤±è´¥...
    exit(1);
}
?>
```

### Pythonå®¢æˆ·ç«¯ç¤ºä¾‹
```python
#!/usr/bin/env python3
import sys
sys.path.append('client/python')
from verification_client_v2 import LicenseClient

# åˆ›å»ºå®¢æˆ·ç«¯å®ä¾‹
client = LicenseClient('https://your-domain.com')

# éªŒè¯è®¸å¯è¯
result = client.verify_license(
    license_key='LIC-ABCD1234EFGH5678',
    auto_save=True  # è‡ªåŠ¨ä¿å­˜éªŒè¯ç»“æœ
)

# å¤„ç†éªŒè¯ç»“æœ
if result['success']:
    print("âœ… éªŒè¯æˆåŠŸï¼")
    print(f"åˆ°æœŸæ—¶é—´: {result['data']['expires_at']}")
    print(f"å‰©ä½™å¤©æ•°: {result['data']['remaining_days']} å¤©")
    
    # æ‚¨çš„è½¯ä»¶é€»è¾‘...
    
else:
    print(f"âŒ éªŒè¯å¤±è´¥: {result['message']}")
    # å¤„ç†éªŒè¯å¤±è´¥...
    sys.exit(1)
```

### JavaScriptå®¢æˆ·ç«¯ç¤ºä¾‹
```javascript
// æµè§ˆå™¨ç¯å¢ƒæˆ–Node.jsç¯å¢ƒ
class LicenseClient {
    constructor(serverUrl) {
        this.serverUrl = serverUrl;
    }
    
    async verify(licenseKey, machineCode) {
        try {
            const response = await fetch(`${this.serverUrl}/api/verify`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    license_key: licenseKey,
                    machine_code: machineCode
                })
            });
            
            return await response.json();
        } catch (error) {
            return {
                success: false,
                message: 'ç½‘ç»œè¿æ¥å¤±è´¥'
            };
        }
    }
    
    generateMachineCode() {
        // ç®€å•çš„æœºå™¨ç ç”Ÿæˆï¼ˆå®é™…åº”ç”¨ä¸­åº”è¯¥æ›´å¤æ‚ï¼‰
        return 'WEB-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9);
    }
}

// ä½¿ç”¨ç¤ºä¾‹
const client = new LicenseClient('https://your-domain.com');
const machineCode = client.generateMachineCode();

client.verify('LIC-ABCD1234EFGH5678', machineCode)
    .then(result => {
        if (result.success) {
            console.log('âœ… éªŒè¯æˆåŠŸï¼', result.data);
            // æ‚¨çš„åº”ç”¨é€»è¾‘...
        } else {
            console.log('âŒ éªŒè¯å¤±è´¥:', result.message);
            // å¤„ç†éªŒè¯å¤±è´¥...
        }
    });
```

### è‡ªå®šä¹‰é›†æˆ
```bash
# RESTful APIæ¥å£
POST /api/verify
Content-Type: application/json

{
    "license_key": "LIC-ABCD1234EFGH5678",
    "machine_code": "MACHINE-UNIQUE-ID",
    "app_version": "1.0.0",
    "extra_data": {}
}

# æˆåŠŸå“åº”
{
    "success": true,
    "message": "éªŒè¯æˆåŠŸ",
    "data": {
        "license_key": "LIC-ABCD1234EFGH5678",
        "expires_at": "2024-12-31 23:59:59",
        "remaining_days": 365,
        "status": "active"
    }
}
```

## ğŸ›¡ï¸ å®‰å…¨é…ç½®

### ç”Ÿäº§ç¯å¢ƒå®‰å…¨æ£€æŸ¥æ¸…å•

#### 1. æ–‡ä»¶æƒé™
```bash
# æ£€æŸ¥å…³é”®æ–‡ä»¶æƒé™
ls -la /www/wwwroot/your-site/.env
ls -la /www/wwwroot/your-site/config/

# ç¡®ä¿æ•æ„Ÿæ–‡ä»¶ä¸å¯å†™
chmod 644 /www/wwwroot/your-site/.env
chmod -R 644 /www/wwwroot/your-site/config/*.php
```

#### 2. åˆ é™¤å¼€å‘æ–‡ä»¶
```bash
# åˆ é™¤å®‰è£…æ–‡ä»¶
rm -f /www/wwwroot/your-site/install.php
rm -rf /www/wwwroot/your-site/install_steps/

# åˆ é™¤å¼€å‘å·¥å…·
rm -f /www/wwwroot/your-site/phpinfo.php
rm -f /www/wwwroot/your-site/test.php
```

#### 3. ç¯å¢ƒå˜é‡é…ç½®
```bash
# ç”Ÿäº§ç¯å¢ƒ .env é…ç½®
APP_ENV=production
APP_DEBUG=false
DB_PASSWORD=strong_random_password
JWT_SECRET=your_jwt_secret_key
API_SECRET=your_api_secret_key
```

#### 4. æ•°æ®åº“å®‰å…¨
```sql
-- åˆ é™¤é»˜è®¤æ•°æ®åº“ç”¨æˆ·
DROP USER IF EXISTS 'test'@'localhost';

-- ä¿®æ”¹rootå¯†ç 
ALTER USER 'root'@'localhost' IDENTIFIED BY 'new_strong_password';

-- åˆ é™¤åŒ¿åç”¨æˆ·
DELETE FROM mysql.user WHERE User='';

-- åˆ·æ–°æƒé™
FLUSH PRIVILEGES;
```

#### 5. WebæœåŠ¡å™¨å®‰å…¨
```nginx
# éšè—æœåŠ¡å™¨ç‰ˆæœ¬ä¿¡æ¯
server_tokens off;

# é™åˆ¶è¯·æ±‚å¤§å°
client_max_body_size 10M;

# è®¾ç½®è¶…æ—¶æ—¶é—´
client_body_timeout 12;
client_header_timeout 12;
keepalive_timeout 15;
send_timeout 10;

# é™åˆ¶è¿æ¥æ•°
limit_conn_zone $binary_remote_addr zone=conn_limit_per_ip:10m;
limit_conn conn_limit_per_ip 20;

# é™åˆ¶è¯·æ±‚é¢‘ç‡
limit_req_zone $binary_remote_addr zone=req_limit_per_ip:10m rate=5r/s;
limit_req zone=req_limit_per_ip burst=10 nodelay;
```

### å®šæœŸç»´æŠ¤

#### 1. æ—¥å¿—è½®è½¬
```bash
# åˆ›å»ºlogrotateé…ç½®
cat > /etc/logrotate.d/license-system << EOF
/www/wwwroot/your-site/storage/logs/*.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    create 644 www www
}
EOF
```

#### 2. æ•°æ®å¤‡ä»½
```bash
#!/bin/bash
# æ•°æ®åº“å¤‡ä»½è„šæœ¬
DATE=$(date +%Y%m%d_%H%M%S)
BACKUP_DIR="/backup/license-system"
DB_NAME="license_system"

# åˆ›å»ºå¤‡ä»½ç›®å½•
mkdir -p $BACKUP_DIR

# æ•°æ®åº“å¤‡ä»½
mysqldump -u root -p$DB_PASSWORD $DB_NAME > $BACKUP_DIR/db_$DATE.sql

# æ–‡ä»¶å¤‡ä»½
tar -czf $BACKUP_DIR/files_$DATE.tar.gz /www/wwwroot/your-site

# æ¸…ç†30å¤©å‰çš„å¤‡ä»½
find $BACKUP_DIR -name "*.sql" -mtime +30 -delete
find $BACKUP_DIR -name "*.tar.gz" -mtime +30 -delete
```

#### 3. ç³»ç»Ÿç›‘æ§
```bash
# åˆ›å»ºç›‘æ§è„šæœ¬
#!/bin/bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
systemctl is-active nginx
systemctl is-active mysql
systemctl is-active php8.1-fpm

# æ£€æŸ¥ç£ç›˜ç©ºé—´
df -h | grep -E '/(|www)' | awk '{print $5}' | sed 's/%//' | while read usage; do
    if [ $usage -gt 80 ]; then
        echo "è­¦å‘Šï¼šç£ç›˜ä½¿ç”¨ç‡è¶…è¿‡80%"
    fi
done

# æ£€æŸ¥å†…å­˜ä½¿ç”¨
free -m | awk 'NR==2{printf "å†…å­˜ä½¿ç”¨ç‡: %.2f%%\n", $3*100/$2}'
```

## ğŸ“Š APIæ–‡æ¡£

å®Œæ•´çš„APIæ–‡æ¡£è¯·æŸ¥çœ‹ï¼š[APIæ–‡æ¡£](docs/api.md)

### æ ¸å¿ƒæ¥å£

#### è®¸å¯è¯éªŒè¯
```http
POST /api/verify
Content-Type: application/json

{
    "license_key": "LIC-ABCD1234EFGH5678",
    "machine_code": "MACHINE-UNIQUE-ID"
}
```

#### ç®¡ç†æ¥å£ï¼ˆéœ€è¦è®¤è¯ï¼‰
```http
# è·å–è®¸å¯è¯åˆ—è¡¨
GET /api/licenses
Authorization: Bearer {token}

# åˆ›å»ºè®¸å¯è¯
POST /api/licenses
Authorization: Bearer {token}
Content-Type: application/json

{
    "count": 10,
    "duration_days": 365,
    "note": "ä¼ä¸šç‰ˆè®¸å¯è¯"
}
```

### é”™è¯¯ç è¯´æ˜
- `200` - è¯·æ±‚æˆåŠŸ
- `400` - è¯·æ±‚å‚æ•°é”™è¯¯
- `401` - æœªæˆæƒè®¿é—®
- `403` - æƒé™ä¸è¶³
- `404` - èµ„æºä¸å­˜åœ¨
- `429` - è¯·æ±‚é¢‘ç‡è¶…é™
- `500` - æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

#### 1. å®‰è£…é—®é¢˜

**é—®é¢˜ï¼šè®¿é—®install.phpæ˜¾ç¤º404**
```bash
è§£å†³ï¼š
1. æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
2. ç¡®è®¤WebæœåŠ¡å™¨é…ç½®æ­£ç¡®
3. æ£€æŸ¥è¿è¡Œç›®å½•è®¾ç½®
```

**é—®é¢˜ï¼šæ•°æ®åº“è¿æ¥å¤±è´¥**
```bash
è§£å†³ï¼š
1. æ£€æŸ¥æ•°æ®åº“æœåŠ¡çŠ¶æ€ï¼šsystemctl status mysql
2. éªŒè¯ç”¨æˆ·åå¯†ç æ˜¯å¦æ­£ç¡®
3. ç¡®è®¤æ•°æ®åº“å·²åˆ›å»º
4. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
```

#### 2. è¿è¡Œé—®é¢˜

**é—®é¢˜ï¼šè®¿é—®é¦–é¡µæ˜¾ç¤º"ç³»ç»Ÿå·²å®‰è£…"**
```bash
è§£å†³ï¼š
1. åœ¨å ¡å¡”é¢æ¿ä¸­å°†è¿è¡Œç›®å½•æ”¹ä¸º /public
2. é‡å¯PHPæœåŠ¡
3. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
```

**é—®é¢˜ï¼šAPIéªŒè¯å¤±è´¥**
```bash
è§£å†³ï¼š
1. æ£€æŸ¥.envé…ç½®æ–‡ä»¶
2. éªŒè¯APIå¯†é’¥è®¾ç½®
3. æŸ¥çœ‹é”™è¯¯æ—¥å¿—ï¼štail -f storage/logs/app.log
4. ç¡®è®¤è®¸å¯è¯çŠ¶æ€æ­£å¸¸
```

#### 3. æ€§èƒ½é—®é¢˜

**é—®é¢˜ï¼šå“åº”é€Ÿåº¦æ…¢**
```bash
è§£å†³ï¼š
1. å¯ç”¨OPcacheï¼šåœ¨php.iniä¸­è®¾ç½®opcache.enable=1
2. é…ç½®Redisç¼“å­˜
3. ä¼˜åŒ–æ•°æ®åº“ç´¢å¼•
4. æ£€æŸ¥æœåŠ¡å™¨èµ„æºä½¿ç”¨æƒ…å†µ
```

**é—®é¢˜ï¼šå†…å­˜ä½¿ç”¨è¿‡é«˜**
```bash
è§£å†³ï¼š
1. å¢åŠ PHPå†…å­˜é™åˆ¶
2. ä¼˜åŒ–æŸ¥è¯¢è¯­å¥
3. æ¸…ç†è¿‡æœŸæ—¥å¿—
4. é‡å¯PHP-FPMæœåŠ¡
```

### æ—¥å¿—æŸ¥çœ‹

```bash
# åº”ç”¨æ—¥å¿—
tail -f /www/wwwroot/your-site/storage/logs/app.log

# Nginxè®¿é—®æ—¥å¿—
tail -f /var/log/nginx/access.log

# Nginxé”™è¯¯æ—¥å¿—
tail -f /var/log/nginx/error.log

# PHPé”™è¯¯æ—¥å¿—
tail -f /var/log/php8.1-fpm.log

# MySQLé”™è¯¯æ—¥å¿—
tail -f /var/log/mysql/error.log
```

### è°ƒè¯•æ¨¡å¼

```bash
# å¼€å¯è°ƒè¯•æ¨¡å¼ï¼ˆä»…é™å¼€å‘ç¯å¢ƒï¼‰
# ä¿®æ”¹ .env æ–‡ä»¶
APP_DEBUG=true
DEBUG=true

# æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯
# ä¿®æ”¹ index.php å’Œ public/index.php
error_reporting(E_ALL);
ini_set('display_errors', '1');
```

## ğŸ“ˆ ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–

### æœåŠ¡å™¨é…ç½®å»ºè®®

#### æœ€å°é…ç½®
- **CPU**: 1æ ¸å¿ƒ
- **å†…å­˜**: 1GB
- **å­˜å‚¨**: 20GB SSD
- **å¸¦å®½**: 5Mbps
- **é€‚ç”¨**: 1000ä¸ªè®¸å¯è¯ä»¥å†…

#### æ¨èé…ç½®
- **CPU**: 2æ ¸å¿ƒ
- **å†…å­˜**: 4GB
- **å­˜å‚¨**: 50GB SSD
- **å¸¦å®½**: 10Mbps
- **é€‚ç”¨**: 10000ä¸ªè®¸å¯è¯ä»¥å†…

#### é«˜æ€§èƒ½é…ç½®
- **CPU**: 4æ ¸å¿ƒ+
- **å†…å­˜**: 8GB+
- **å­˜å‚¨**: 100GB+ NVMe SSD
- **å¸¦å®½**: 20Mbps+
- **é€‚ç”¨**: å¤§è§„æ¨¡ä¼ä¸šéƒ¨ç½²

### æ€§èƒ½ä¼˜åŒ–

#### PHPä¼˜åŒ–
```ini
# php.ini ä¼˜åŒ–é…ç½®
memory_limit = 512M
max_execution_time = 60
max_input_vars = 3000
post_max_size = 64M
upload_max_filesize = 64M

# OPcacheé…ç½®
opcache.enable = 1
opcache.memory_consumption = 256
opcache.max_accelerated_files = 20000
opcache.validate_timestamps = 0
opcache.save_comments = 1
```

#### MySQLä¼˜åŒ–
```ini
# my.cnf ä¼˜åŒ–é…ç½®
[mysqld]
innodb_buffer_pool_size = 1G
innodb_log_file_size = 256M
innodb_flush_log_at_trx_commit = 2
innodb_flush_method = O_DIRECT
query_cache_size = 128M
query_cache_type = 1
```

#### Nginxä¼˜åŒ–
```nginx
# nginx.conf ä¼˜åŒ–é…ç½®
worker_processes auto;
worker_connections 1024;
keepalive_timeout 65;
gzip on;
gzip_comp_level 6;
gzip_types text/plain text/css application/json application/javascript text/xml application/xml;

# å¼€å¯HTTP/2
listen 443 ssl http2;
```

### æ‰©å±•æ€§æ–¹æ¡ˆ

#### è´Ÿè½½å‡è¡¡
```nginx
upstream license_backend {
    server 127.0.0.1:8001;
    server 127.0.0.1:8002;
    server 127.0.0.1:8003;
}

server {
    location / {
        proxy_pass http://license_backend;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

#### Redisç¼“å­˜
```php
# .env é…ç½®
CACHE_DRIVER=redis
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password
```

#### CDNé…ç½®
```bash
# é™æ€èµ„æºCDN
# å°† public/assets/ ç›®å½•ä¸Šä¼ åˆ°CDN
# ä¿®æ”¹æ¨¡æ¿ä¸­çš„èµ„æºé“¾æ¥
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- **APIå‚è€ƒ**: [APIæ¥å£æ–‡æ¡£](docs/api.md)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MITè®¸å¯è¯](LICENSE)ï¼Œæ‚¨å¯ä»¥è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘ã€‚

### å¼€æºåè®®
- âœ… å•†ä¸šä½¿ç”¨
- âœ… ä¿®æ”¹ä»£ç 
- âœ… åˆ†å‘ä»£ç 
- âœ… ç§äººä½¿ç”¨
- â— éœ€è¦ä¿ç•™ç‰ˆæƒå£°æ˜
- â— ä¸æä¾›è´£ä»»æ‹…ä¿

## ğŸ‰ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®çš„æ”¯æŒï¼š
- [PHP](https://php.net) - å¼ºå¤§çš„æœåŠ¡å™¨ç«¯è„šæœ¬è¯­è¨€
- [Bootstrap](https://getbootstrap.com) - ç°ä»£åŒ–çš„CSSæ¡†æ¶
- [jQuery](https://jquery.com) - ç®€åŒ–JavaScriptå¼€å‘
- [Chart.js](https://chartjs.org) - ç¾è§‚çš„å›¾è¡¨åº“
- [Firebase JWT](https://github.com/firebase/php-jwt) - JWTè®¤è¯åº“

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

**æ–°ç”¨æˆ·5åˆ†é’Ÿå¿«é€Ÿéƒ¨ç½²ï¼š**

1. **åˆ›å»ºç«™ç‚¹** â†’ ä¸Šä¼ ä»£ç  â†’ è®¾ç½®æƒé™
2. **è®¿é—®** `http://your-domain.com/install.php`
3. **æŒ‰å‘å¯¼å®Œæˆå®‰è£…** â†’ ä¿®æ”¹è¿è¡Œç›®å½•ä¸º `/public`
4. **å¼€å§‹ä½¿ç”¨** â†’ åˆ›å»ºè®¸å¯è¯ â†’ é›†æˆåˆ°æ‚¨çš„è½¯ä»¶

**éœ€è¦å¸®åŠ©ï¼Ÿ** æŸ¥çœ‹ä¸Šæ–¹è¯¦ç»†æ–‡æ¡£æˆ–è”ç³»æŠ€æœ¯æ”¯æŒ ğŸ“

---

<p align="center">
  <strong>ğŸ›¡ï¸ è®©æ‚¨çš„è½¯ä»¶æ›´å®‰å…¨ï¼Œè®©æˆæƒç®¡ç†æ›´ç®€å•</strong>
</p>